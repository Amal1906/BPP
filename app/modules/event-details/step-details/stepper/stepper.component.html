<div class="stepper-container">
  <!-- Loading state -->
  <div *ngIf="loading" class="stepper-loading">
    <div class="loading-spinner"></div>
    <p>Loading workflow steps...</p>
  </div>

  <!-- Stepper -->
  <div *ngIf="!loading && displaySteps.length > 0" class="stepper">
    <div 
      *ngFor="let step of displaySteps; index as i"
      [ngClass]="['stepper__step', getStepClass(step, i)]"
      [title]="step.hoverMessage || ''"
      [attr.data-tooltip]="step.hoverMessage"
    >
      <!-- Step Icon -->
      <div class="stepper__step__icon">
        <span class="stepper__step__index">
          {{ getStepIcon(step, i) }}
        </span>
      </div>

      <!-- Step Label -->
      <div class="stepper__step__content">
        <h6 class="stepper__step__label">
          {{ step.name }}
        </h6>
        <div class="stepper__step__tooltip">
          {{ step.hoverMessage }}
        </div>
      </div>

      <!-- Connector Line -->
      <div *ngIf="i < displaySteps.length - 1" class="stepper__connector"></div>
    </div>
  </div>

  <!-- Empty state -->
  <div *ngIf="!loading && displaySteps.length === 0" class="stepper-empty">
    <p>No workflow steps configured for this work type.</p>
  </div>
</div>