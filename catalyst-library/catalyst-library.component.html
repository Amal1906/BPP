<div class="modern-catalyst-page">
  <div class="catalyst-container">
    <!-- Main Heading Section -->
    <div class="main-heading-section">
      <h1 class="main-title">BluePond's Agentic Orchestrator</h1>
      <div class="orchestrator-content">
        <p class="main-description">Automated workflows integrated into broker ecosystem</p>
        <ul class="feature-list">
          <li>AI Agents & Robotic automation combined > Intelligent automation</li>
          <li>P&C Industry tuned Models and collaborative AI Ops</li>
          <li>Scalable, Secure & Compliant</li>
          <li>API Connectors: Flexible, configurable</li>
        </ul>
      </div>
    </div>

    <!-- Catalyst Library Section -->
    <div class="catalyst-library-section" [class.expanded]="showDetails">
      <h2 class="library-title">BluePond's Library of Intelligent Catalysts</h2>
      
      <!-- Catalyst Cards Grid -->
      <div class="catalyst-grid">
        <div *ngFor="let catalyst of catalysts" class="catalyst-card modern-card" [attr.data-catalyst-id]="catalyst.id">
          <div class="card-header" [style.background]="catalyst.color">
            <h3 class="catalyst-title">{{ catalyst.title }}</h3>
          </div>
          <div class="card-content">
            <!-- Description split into lines and shown as bullets -->
            <div class="catalyst-description">
              <ul>
                <li *ngFor="let line of catalyst.description.split('\n')">
                  {{ line.trim() }}
                </li>
              </ul>
            </div>
            
            <!-- Individual Know More Button for each catalyst -->
            <button class="know-more-btn" (click)="toggleCatalystDetails(catalyst)" *ngIf="!catalyst.showDetails">
              <span>Know more</span>
              <mat-icon>expand_more</mat-icon>
            </button>

            <!-- Expanded Details - shown only for this specific catalyst -->
            <div class="catalyst-details" *ngIf="catalyst.showDetails">
              <!-- Container for side-by-side layout -->
              <div class="details-business-container">
                <div class="details-section">
                  <h4>Key Features:</h4>
                  <ul class="details-list">
                    <li *ngFor="let detail of catalyst.details">{{ detail }}</li>
                  </ul>
                </div>

                <!-- Extra spacing for Key Features section -->
                <div class="policy-check-features-spacing" *ngIf="catalyst.id === 'policy-check'"></div>
                <div class="coi-features-spacing" *ngIf="catalyst.id === 'coi'"></div>
                <div class="carrier-download-features-spacing" *ngIf="catalyst.id === 'carrier-download'"></div>
                <div class="renewal-features-spacing" *ngIf="catalyst.id === 'renewal'"></div>

                <!-- Extra spacing for Business Impact section -->
                <div class="policy-check-spacing" *ngIf="catalyst.id === 'policy-check'"></div>
                <div class="coi-spacing" *ngIf="catalyst.id === 'coi'"></div>
                <div class="carrier-download-spacing" *ngIf="catalyst.id === 'carrier-download'"></div>
                <div class="renewal-spacing" *ngIf="catalyst.id === 'renewal'"></div>

                <div class="business-impact-section">
                  <h4>Business Impact:</h4>
                  <ul class="impact-list">
                    <li *ngFor="let impact of catalyst.businessImpact" class="impact-item">
                      <mat-icon class="impact-icon">trending_up</mat-icon>
                      <span>{{ impact }}</span>
                    </li>
                  </ul>
                </div>
              </div>
              
              <!-- Extra line/space after business impact -->
              <div class="extra-spacing"></div>
            </div>

            <!-- See How It Works Button - appears below expanded details -->
            <button class="see-how-btn" (click)="openCatalystModal(catalyst)" *ngIf="catalyst.showDetails">
              <mat-icon>play_circle_filled</mat-icon>
              <span>See how it works</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Global Collapse Button - appears when any catalyst is expanded -->
      <div class="collapse-section" *ngIf="showDetails">
        <button class="collapse-btn" (click)="collapseAllDetails()">
          <mat-icon>expand_less</mat-icon>
          <span>Show Less</span>
        </button>
      </div>
    </div>
  </div>
</div>